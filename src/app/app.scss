@use './shared/styles/variables' as v;
@use './shared/styles/mixins' as m;

:host {
  display: block;
  min-height: 100%;
}

// ══════════════════════════════════════════════════════════════
// Layout principal
// ══════════════════════════════════════════════════════════════

.app-layout {
  min-height: 100vh;

  &__content {
    // Mobile : laisse de la place pour la bottom nav fixe
    padding-bottom: v.$nav-bottom-height;

    @include m.respond-to('md') {
      // Desktop : décale le contenu pour laisser place à la sidebar
      padding-bottom: 0;
      padding-left: v.$nav-sidebar-width;
    }
  }

  &__route {
    position: relative;

    /**
     * Animation d'entrée des composants de page insérés par router-outlet.
     * router-outlet place le composant comme frère direct dans le DOM ;
     * on cible tout enfant direct sauf l'élément <router-outlet> lui-même.
     */
    > :not(router-outlet) {
      display: block;
      animation: page-enter 220ms cubic-bezier(0.4, 0, 0.2, 1) both;
    }
  }
}

// ══════════════════════════════════════════════════════════════
// Animation de transition entre pages
// ══════════════════════════════════════════════════════════════

@keyframes page-enter {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}
